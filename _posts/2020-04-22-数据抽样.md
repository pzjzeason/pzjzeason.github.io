---
layout: post
title: 统计篇--抽样和分布
date: 2020-04-22
catalog: true
tags:
    - 统计
---

### 随机抽样和样本偏差
1. 总体：一个大型的数据集，确实存在的，或者理论上、构想到的。数量用N表示
2. 样本：总体的子集，数量用n表示
3. 随机抽样：从总体中随机抽取元素到样本中
4. 分层抽样：对总体分层，给不同层赋予权重，在每层中随机抽样
5. 简单随机抽样：不分层，随机抽
6. 样本偏差：样本对总体做了错误的解释。样本和总体的diff
7. 样本质量：代表性，完整性，格式一致性、准确性、整洁性等等

### 选择偏差
1. 选择偏差是指以一种可导致误导性或短暂性结论的方式,有选择性地选取数据的操作。选择偏差可能是有意而为之,也可能是无意识的。
2. 指定一个假设, 然后遵循随机化和随机抽样的原则收集数据, 可以确保不会产生偏差。
3. 所有其他类型的数据分析都有产生偏差的风险,风险来自数据的采集和分析过程,包括在数据挖掘中反复地运行模型、在研究中窥探数据,以及事后选取有意义的事件。
补充阅读：论文Identifying and Avoiding Bias in Research

### 抽样分布
1. 样本统计量：对总大规模总体抽取出的样本做计算，得到的一些度量指，例如均值。
2. 抽样分布是指样本统计量在多个样本或者多次抽样中的频数分布
3. 中心极限定理：当样本规模增大，抽样分布成正态分布的趋势，规模越大样本统计量分布越窄。即便底层的总体数据并不符合正态分布,但样本统计量通常符合正态分布![-20200719-10-55-24.png](https://blog-data.oss-cn-beijing.aliyuncs.com/img/-20200719-10-55-24.png)
4. 标准误差：standard error，多个样本的同一样本统计量的标准差，而标准差是指个体数值的variance。标准误差总结了单个统计量抽样分布的变异性。以根据样本值的标准偏差 s 和样本规模 n估计如下。要是标准误差减小一半，样本规模要增加四倍。

### Bootstarp
  1. bootstarp：有放回的重复抽样r次，得到r个样本规模为n的样本
  2. 机器学习中从当前样本中bootstarp得到多个样本（数据集），在多个数据集上重复运行模型（通常是分类或者决策树），然后对多个模型的结果做平均或者投票，这样的方法较Bagging（bootstrap+aggregating缩写）

### 置信区间
使用范围而不是单一的指去表示估计量
1. 置信水平：一个百分比，这个范围包含样本统计量的概率
2. 计算bootstrap置信区间的算法：
```
从数据中有放回地抽取规模为 n 的随机样本(重抽样) 。
记录重抽样中感兴趣的统计量。
多次重复步骤 1 ~ 2,例如 r 次。
对于 x% 置信区间,从分布的两端分别对 r 个重抽样结果切尾 [(1-[x/100])/2]%。
切尾点就是 x% 自助法置信区间的区间端点。
```

### 正态分布
有时也被称为z分布
1. 误差(error)：数据点与预测值或均值的差异
2. 标准化(Standardize)：(数据值-均值)/标准差
3. z-score：单个数据点通过上述公式标准化的过程
4. QQ图：对样本分布和正态分布接近程度的可视化绘图。将样本的数据值都转换为z-score，然后排序后每个z-score的分位数在正态分布上对应的x值，(z-score，x）配对画在图上，如果在斜对角线上，就表明样本呈正态分布。
5. 正态分布的常识数据
    - 68%的数据位于均值左右一个标准差内
    - 95.4%的数据位于均值左右两个标准差内
    - 99.7的数据位于均值左右三个标准差内
    - 95%的数据位于均值左右1.96个标准差内
    - 99%的数据位于均值左右2.58个标准差内

### t分布
1. t分布实际上是一个分布家族，家族中的每个成员根据样本规模的不同而有所不同。样本的规模越大,t 分布就越趋向于正态分布形状。
1. 考虑一个规模为 n 的样本,其中样本均值已经计算出来。如果 s 是样本的标准偏差,那么样本均值周边 90% 的置信区间由下式给出：![-20200719-11-06-05.png](https://blog-data.oss-cn-beijing.aliyuncs.com/img/-20200719-11-06-05.png)


### 二项分布
- 伯努利实验：实验结果只有两种输出a和b，一个概率为p，另一个1-p
- 二项分布：多次伯努利实验，我们关心的输出的频数分布。给定p，试验次数n，事件a发生x次的概率。可用排列组合计算出公式。当n足够大，p不接近0或1时，可用正态分布近似。

### 泊松分布
1. 泊松分布：一定时间或者空间内，事件发生频数分布，关键参数是lambda，指事件发生数量的均值。泊松分布方差也是lambda。
2. 指数分布：建模各次事件之间的时间间隔分布情况,例如,网站访问的时间间隔,汽车抵达收费站的时间间隔，它所使用的参数 λ 与泊松分布一样。距离间隔也可以。
3. 韦伯分布：事件发生率会随时间发生变化，用韦伯分布建模